<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" href="/faviconjan1.png">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="public/faviconjan1.png">

    <title>TV Mounting Service - Book Your Appointment - Happy New Year 2026!</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow-x: hidden;
        }

        /* Fireworks Canvas */
        #fireworks-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        /* Sparkle bar replacing christmas lights */
        .sparkle-bar {
            background: linear-gradient(90deg,
                    #ffd700 0%, #ff6b35 10%,
                    #f7418f 20%, #fc5c9c 30%,
                    #ffd700 40%, #00d4ff 50%,
                    #7b2ff7 60%, #f107a3 70%,
                    #ffd700 80%, #00ff88 90%,
                    #ff6b35 100%);
            height: 6px;
            animation: sparkle 1.5s linear infinite;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 1;
                filter: brightness(1.2);
            }
            50% {
                opacity: 0.7;
                filter: brightness(0.9);
            }
        }

        /* Floating confetti */
        .confetti {
            position: fixed;
            top: -10px;
            z-index: 2;
            user-select: none;
            cursor: default;
            animation-name: confetti-fall;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
            opacity: 0.9;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(0vh) rotate(0deg) scale(1);
            }
            50% {
                transform: translateY(50vh) rotate(180deg) scale(0.9);
            }
            100% {
                transform: translateY(100vh) rotate(360deg) scale(0.8);
            }
        }

        /* Glowing text effect */
        .glow-text {
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8),
                         0 0 20px rgba(255, 215, 0, 0.6),
                         0 0 30px rgba(255, 215, 0, 0.4);
        }

        .discount-badge {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* Shimmer effect for year */
        .shimmer {
            background: linear-gradient(90deg, 
                #ffd700 0%, 
                #fff 25%, 
                #ffd700 50%, 
                #fff 75%, 
                #ffd700 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% center; }
            100% { background-position: -200% center; }
        }

        /* Ensure content is above fireworks */
        #mainContent, #successScreen {
            position: relative;
            z-index: 10;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen">
    <div class="sparkle-bar"></div>
    <canvas id="fireworks-canvas"></canvas>
    <div id="confetti-container"></div>

    <div class="py-12 px-4" id="mainContent">
        <div class="max-w-4xl mx-auto">

            <div class="text-center mb-12">
                <div class="text-6xl mb-4">üéÜ</div>
                <h1 class="text-5xl font-bold text-white mb-2 glow-text">Happy New Year!</h1>
                <p class="text-7xl font-black shimmer mb-4">2026</p>
                <div class="flex items-center justify-center mb-4">
                    <img src="2026logotic.png" alt="TV Install Chicago New Year Logo" class="h-50 w-auto">
                </div>
                <p class="text-xl text-amber-300 font-semibold">ü•Ç New Year, New Setup ‚Ä¢ Same-day service available ü•Ç</p>
                <p class="text-lg text-purple-300 mt-2">‚ú® Start the year with the perfect entertainment setup! ‚ú®</p>
            </div>

            <div class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-8 border-4 border-amber-400">
                <h2 class="text-2xl font-bold text-purple-700 mb-6 flex items-center">
                    <span class="bg-amber-100 text-amber-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">üéá</span>
                    New Year Pricing
                </h2>

                <!-- Multiple TV Discount Banner -->
                <div class="discount-badge bg-gradient-to-r from-purple-600 via-pink-500 to-amber-500 text-white rounded-xl p-4 mb-6 text-center shadow-lg">
                    <p class="text-lg font-bold">üéÜ NEW YEAR SPECIAL üéÜ</p>
                    <p class="text-2xl font-extrabold">20% OFF LABOR</p>
                    <p class="text-sm">When you mount 2 or more TVs!</p>
                    <p class="text-xs mt-1 opacity-90">(Discount applies to installation & wire concealment, not mount hardware)</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="border-2 border-purple-300 rounded-lg p-4 hover:border-amber-400 transition bg-gradient-to-br from-purple-50 to-amber-50">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-700 font-medium">Up to 42"</span>
                            <span class="text-2xl font-bold text-purple-600">$99</span>
                        </div>
                    </div>
                    <div class="border-2 border-purple-300 rounded-lg p-4 hover:border-amber-400 transition bg-gradient-to-br from-purple-50 to-amber-50">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-700 font-medium">43" - 55"</span>
                            <span class="text-2xl font-bold text-purple-600">$129</span>
                        </div>
                    </div>
                    <div class="border-2 border-purple-300 rounded-lg p-4 hover:border-amber-400 transition bg-gradient-to-br from-purple-50 to-amber-50">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-700 font-medium">56" - 70"</span>
                            <span class="text-2xl font-bold text-purple-600">$159</span>
                        </div>
                    </div>
                    <div class="border-2 border-purple-300 rounded-lg p-4 hover:border-amber-400 transition bg-gradient-to-br from-purple-50 to-amber-50">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-700 font-medium">71" - 85"</span>
                            <span class="text-2xl font-bold text-purple-600">$199</span>
                        </div>
                    </div>
                    <div class="border-2 border-purple-300 rounded-lg p-4 hover:border-amber-400 transition md:col-span-2 bg-gradient-to-br from-purple-50 to-amber-50">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-700 font-medium">86"+</span>
                            <span class="text-2xl font-bold text-purple-600">$249</span>
                        </div>
                    </div>
                </div>

                <h3 class="font-semibold text-purple-700 mb-3">üéá Mount Type Options:</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between bg-purple-50 rounded-lg p-3 border-2 border-purple-200">
                        <div>
                            <span class="font-medium text-gray-800">Fixed Mount</span>
                            <span class="text-sm text-gray-600 ml-2">- Flat against the wall</span>
                        </div>
                        <span class="text-purple-600 font-semibold">+$50</span>
                    </div>
                    <div class="flex items-center justify-between bg-amber-50 rounded-lg p-3 border-2 border-amber-200">
                        <div>
                            <span class="font-medium text-gray-800">Tilting Mount</span>
                            <span class="text-sm text-gray-600 ml-2">- Adjustable tilt angle</span>
                        </div>
                        <span class="text-amber-600 font-semibold">+$50</span>
                    </div>
                    <div class="flex items-center justify-between bg-purple-50 rounded-lg p-3 border-2 border-purple-200">
                        <div>
                            <span class="font-medium text-gray-800">Full Motion Mount</span>
                            <span class="text-sm text-gray-600 ml-2">- Swivel and extend</span>
                        </div>
                        <span class="text-purple-600 font-semibold">+$65</span>
                    </div>
                </div>

                <h3 class="font-semibold text-purple-700 mb-3 mt-6">üéÜ Wire Concealment Options:</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between bg-purple-50 rounded-lg p-3 border-2 border-purple-200">
                        <div>
                            <span class="font-medium text-gray-800">No Wire Concealment</span>
                            <span class="text-sm text-gray-600 ml-2">- Standard installation</span>
                        </div>
                        <span class="text-purple-600 font-semibold">Included</span>
                    </div>
                    <div class="flex items-center justify-between bg-amber-50 rounded-lg p-3 border-2 border-amber-200">
                        <div>
                            <span class="font-medium text-gray-800">External Strip</span>
                            <span class="text-sm text-gray-600 ml-2">- Surface-mounted wire cover</span>
                        </div>
                        <span class="text-amber-600 font-semibold">+$35</span>
                    </div>
                    <div class="flex items-center justify-between bg-purple-50 rounded-lg p-3 border-2 border-purple-200">
                        <div>
                            <span class="font-medium text-gray-800">In-Wall Concealment</span>
                            <span class="text-sm text-gray-600 ml-2">- Wires hidden inside wall</span>
                        </div>
                        <span class="text-purple-600 font-semibold">+$60</span>
                    </div>
                    <div class="flex items-center justify-between bg-amber-50 rounded-lg p-3 border-2 border-amber-200">
                        <div>
                            <span class="font-medium text-gray-800">Electrical Outlet Installation</span>
                            <span class="text-sm text-gray-600 ml-2">- New outlet behind TV</span>
                        </div>
                        <span class="text-amber-600 font-semibold">+$250</span>
                    </div>
                </div>

                <h3 class="font-semibold text-purple-700 mb-3 mt-6">üîä Soundbar Mounting:</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between bg-purple-50 rounded-lg p-3 border-2 border-purple-200">
                        <div>
                            <span class="font-medium text-gray-800">Soundbar Mounting</span>
                            <span class="text-sm text-gray-600 ml-2">- Mount your soundbar below TV</span>
                        </div>
                        <span class="text-purple-600 font-semibold">+$60</span>
                    </div>
                </div>

                <div class="mt-6 bg-amber-50 border-l-4 border-amber-500 p-4">
                    <p class="text-sm text-gray-700">
                        üéÜ All installations include level mounting and debris cleanup
                    </p>
                    <p class="text-sm text-purple-600 font-semibold mt-2">
                        ü•Ç Here's to a fresh start with the perfect home theater setup!
                    </p>
                </div>
            </div>

            <div class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-8 border-4 border-purple-400">
                <h2 class="text-2xl font-bold text-purple-700 mb-6 flex items-center">
                    <span class="bg-amber-100 text-amber-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">üéä</span>
                    Book Your New Year Appointment
                </h2>

                <div class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
                            <input type="text" id="name" required
                                class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none"
                                placeholder="John Smith">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number *</label>
                            <input type="tel" id="phone" required
                                class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none"
                                placeholder="(555) 123-4567">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                        <input type="email" id="email" required
                            class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none"
                            placeholder="john@example.com">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Service Address *</label>
                        <input type="text" id="address" required
                            class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none"
                            placeholder="123 Main St, City, State ZIP">
                    </div>

                    <!-- Number of TVs Selection -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Number of TVs *</label>
                        <select id="numTvs" required onchange="updateTvForms(); calculateTotal()"
                            class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                            <option value="1">1 TV</option>
                            <option value="2">2 TVs - 20% OFF! üéÜ</option>
                            <option value="3">3 TVs - 20% OFF! üéÜ</option>
                            <option value="4">4 TVs - 20% OFF! üéÜ</option>
                            <option value="5">5+ TVs - 20% OFF! üéÜ</option>
                        </select>
                        <p id="discountNote" class="hidden text-sm text-purple-600 font-semibold mt-2">üéâ 20% multi-TV discount will be applied!</p>
                    </div>

                    <!-- TV 1 (Always visible) -->
                    <div id="tv1-section" class="bg-gradient-to-r from-purple-50 to-amber-50 rounded-xl p-4 border-2 border-purple-200">
                        <h3 class="font-bold text-purple-700 mb-4">üì∫ TV 1</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">TV Size *</label>
                                <select id="tvSize1" required onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select size</option>
                                    <option value="up-to-42" data-price="99">Up to 42" - $99</option>
                                    <option value="43-55" data-price="129">43" - 55" - $129</option>
                                    <option value="56-70" data-price="159">56" - 70" - $159</option>
                                    <option value="71-85" data-price="199">71" - 85" - $199</option>
                                    <option value="86-plus" data-price="249">86"+ - $249</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mount Type *</label>
                                <select id="mountType1" required onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select mount</option>
                                    <option value="own" data-price="0">Own Mount - +$0</option>
                                    <option value="fixed" data-price="50">Fixed - +$50</option>
                                    <option value="tilt" data-price="50">Tilting - +$50</option>
                                    <option value="full" data-price="65">Full Motion - +$65</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Wire Concealment *</label>
                                <select id="wireConcealment1" required onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select option</option>
                                    <option value="none" data-price="0">None - Included</option>
                                    <option value="external" data-price="35">External - +$35</option>
                                    <option value="inwall" data-price="60">In-Wall - +$60</option>
                                    <option value="outlet" data-price="250">Outlet - +$250</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Soundbar Mounting üîä</label>
                                <select id="soundbar1" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="no" data-price="0">No soundbar</option>
                                    <option value="yes" data-price="60">Yes, mount my soundbar - +$60</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- TV 2 (Hidden by default) -->
                    <div id="tv2-section" class="hidden bg-gradient-to-r from-amber-50 to-purple-50 rounded-xl p-4 border-2 border-amber-200">
                        <h3 class="font-bold text-amber-700 mb-4">üì∫ TV 2</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">TV Size *</label>
                                <select id="tvSize2" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select size</option>
                                    <option value="up-to-42" data-price="99">Up to 42" - $99</option>
                                    <option value="43-55" data-price="129">43" - 55" - $129</option>
                                    <option value="56-70" data-price="159">56" - 70" - $159</option>
                                    <option value="71-85" data-price="199">71" - 85" - $199</option>
                                    <option value="86-plus" data-price="249">86"+ - $249</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mount Type *</label>
                                <select id="mountType2" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select mount</option>
                                    <option value="own" data-price="0">Own Mount - +$0</option>
                                    <option value="fixed" data-price="50">Fixed - +$50</option>
                                    <option value="tilt" data-price="50">Tilting - +$50</option>
                                    <option value="full" data-price="65">Full Motion - +$65</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Wire Concealment *</label>
                                <select id="wireConcealment2" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select option</option>
                                    <option value="none" data-price="0">None - Included</option>
                                    <option value="external" data-price="35">External - +$35</option>
                                    <option value="inwall" data-price="60">In-Wall - +$60</option>
                                    <option value="outlet" data-price="250">Outlet - +$250</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Soundbar Mounting üîä</label>
                                <select id="soundbar2" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="no" data-price="0">No soundbar</option>
                                    <option value="yes" data-price="60">Yes, mount my soundbar - +$60</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- TV 3 (Hidden by default) -->
                    <div id="tv3-section" class="hidden bg-gradient-to-r from-purple-50 to-amber-50 rounded-xl p-4 border-2 border-purple-200">
                        <h3 class="font-bold text-purple-700 mb-4">üì∫ TV 3</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">TV Size *</label>
                                <select id="tvSize3" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select size</option>
                                    <option value="up-to-42" data-price="99">Up to 42" - $99</option>
                                    <option value="43-55" data-price="129">43" - 55" - $129</option>
                                    <option value="56-70" data-price="159">56" - 70" - $159</option>
                                    <option value="71-85" data-price="199">71" - 85" - $199</option>
                                    <option value="86-plus" data-price="249">86"+ - $249</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mount Type *</label>
                                <select id="mountType3" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select mount</option>
                                    <option value="own" data-price="0">Own Mount - +$0</option>
                                    <option value="fixed" data-price="50">Fixed - +$50</option>
                                    <option value="tilt" data-price="50">Tilting - +$50</option>
                                    <option value="full" data-price="65">Full Motion - +$65</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Wire Concealment *</label>
                                <select id="wireConcealment3" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select option</option>
                                    <option value="none" data-price="0">None - Included</option>
                                    <option value="external" data-price="35">External - +$35</option>
                                    <option value="inwall" data-price="60">In-Wall - +$60</option>
                                    <option value="outlet" data-price="250">Outlet - +$250</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Soundbar Mounting üîä</label>
                                <select id="soundbar3" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="no" data-price="0">No soundbar</option>
                                    <option value="yes" data-price="60">Yes, mount my soundbar - +$60</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- TV 4 (Hidden by default) -->
                    <div id="tv4-section" class="hidden bg-gradient-to-r from-amber-50 to-purple-50 rounded-xl p-4 border-2 border-amber-200">
                        <h3 class="font-bold text-amber-700 mb-4">üì∫ TV 4</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">TV Size *</label>
                                <select id="tvSize4" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select size</option>
                                    <option value="up-to-42" data-price="99">Up to 42" - $99</option>
                                    <option value="43-55" data-price="129">43" - 55" - $129</option>
                                    <option value="56-70" data-price="159">56" - 70" - $159</option>
                                    <option value="71-85" data-price="199">71" - 85" - $199</option>
                                    <option value="86-plus" data-price="249">86"+ - $249</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mount Type *</label>
                                <select id="mountType4" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select mount</option>
                                    <option value="own" data-price="0">Own Mount - +$0</option>
                                    <option value="fixed" data-price="50">Fixed - +$50</option>
                                    <option value="tilt" data-price="50">Tilting - +$50</option>
                                    <option value="full" data-price="65">Full Motion - +$65</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Wire Concealment *</label>
                                <select id="wireConcealment4" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select option</option>
                                    <option value="none" data-price="0">None - Included</option>
                                    <option value="external" data-price="35">External - +$35</option>
                                    <option value="inwall" data-price="60">In-Wall - +$60</option>
                                    <option value="outlet" data-price="250">Outlet - +$250</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Soundbar Mounting üîä</label>
                                <select id="soundbar4" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="no" data-price="0">No soundbar</option>
                                    <option value="yes" data-price="60">Yes, mount my soundbar - +$60</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- TV 5 (Hidden by default) -->
                    <div id="tv5-section" class="hidden bg-gradient-to-r from-purple-50 to-amber-50 rounded-xl p-4 border-2 border-purple-200">
                        <h3 class="font-bold text-purple-700 mb-4">üì∫ TV 5+</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">TV Size *</label>
                                <select id="tvSize5" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select size</option>
                                    <option value="up-to-42" data-price="99">Up to 42" - $99</option>
                                    <option value="43-55" data-price="129">43" - 55" - $129</option>
                                    <option value="56-70" data-price="159">56" - 70" - $159</option>
                                    <option value="71-85" data-price="199">71" - 85" - $199</option>
                                    <option value="86-plus" data-price="249">86"+ - $249</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mount Type *</label>
                                <select id="mountType5" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select mount</option>
                                    <option value="own" data-price="0">Own Mount - +$0</option>
                                    <option value="fixed" data-price="50">Fixed - +$50</option>
                                    <option value="tilt" data-price="50">Tilting - +$50</option>
                                    <option value="full" data-price="65">Full Motion - +$65</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Wire Concealment *</label>
                                <select id="wireConcealment5" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="">Select option</option>
                                    <option value="none" data-price="0">None - Included</option>
                                    <option value="external" data-price="35">External - +$35</option>
                                    <option value="inwall" data-price="60">In-Wall - +$60</option>
                                    <option value="outlet" data-price="250">Outlet - +$250</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Soundbar Mounting üîä</label>
                                <select id="soundbar5" onchange="calculateTotal()"
                                    class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                    <option value="no" data-price="0">No soundbar</option>
                                    <option value="yes" data-price="60">Yes, mount my soundbar - +$60</option>
                                </select>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600 mt-3">üìù For more than 5 TVs, please add details in the notes section below.</p>
                    </div>

                    <div id="priceTotal"
                        class="hidden bg-gradient-to-r from-purple-100 to-amber-100 border-4 border-purple-300 rounded-xl p-6 text-center">
                        <p class="text-lg font-semibold text-gray-700 mb-2">üéÜ Your Estimated Total üéÜ</p>
                        <div id="subtotalRow" class="hidden">
                            <p class="text-xl text-gray-500 line-through" id="subtotalAmount">$0</p>
                        </div>
                        <p class="text-5xl font-bold text-purple-600" id="totalAmount">$0</p>
                        <p id="savingsAmount" class="hidden text-lg font-bold text-amber-600 mt-2">You save: $0</p>
                        <p class="text-sm text-gray-600 mt-2">All-inclusive pricing ‚Ä¢ No hidden fees</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Date *</label>
                            <input type="date" id="preferredDate" required
                                class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Time *</label>
                            <select id="preferredTime" required
                                class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none">
                                <option value="">Select time</option>
                                <option value="8:00 AM - 10:00 AM">8:00 AM - 10:00 AM</option>
                                <option value="10:00 AM - 12:00 PM">10:00 AM - 12:00 PM</option>
                                <option value="12:00 PM - 2:00 PM">12:00 PM - 2:00 PM</option>
                                <option value="2:00 PM - 4:00 PM">2:00 PM - 4:00 PM</option>
                                <option value="4:00 PM - 6:00 PM">4:00 PM - 6:00 PM</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Additional Notes</label>
                        <textarea id="additionalNotes" rows="4"
                            class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-amber-500 focus:outline-none"
                            placeholder="Any special requests or details we should know about..."></textarea>
                    </div>

                    <button onclick="submitBooking()"
                        class="w-full bg-gradient-to-r from-purple-600 via-pink-500 to-amber-500 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:from-purple-700 hover:via-pink-600 hover:to-amber-600 transition shadow-lg hover:shadow-xl">
                        üéÜ Request New Year Appointment üéÜ
                    </button>
                </div>
            </div>

            <div class="text-center mt-8 text-white">
                <p class="text-lg font-semibold text-amber-300">ü•Ç Happy New Year from TV Install Chicago! ü•Ç</p>
                <div class="flex flex-col sm:flex-row gap-3 justify-center items-center mt-6">
                    <a href="tel:+13129317096"
                        class="px-5 py-3 rounded-lg bg-purple-700 text-white font-bold hover:opacity-90">
                        Call: (312) 931-7096
                    </a>
                    <a href="mailto:tvinstallchicago@gmail.com"
                        class="px-5 py-3 rounded-lg bg-amber-600 text-white font-bold hover:opacity-90">
                        Email: tvinstallchicago@gmail.com
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div id="successScreen"
        class="hidden min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border-4 border-amber-400">
            <div class="text-6xl mb-4">üéÜ</div>
            <div class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <svg class="w-10 h-10 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <polyline points="20 6 9 17 4 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </div>
            <h2 class="text-3xl font-bold text-purple-700 mb-4">Booking Received!</h2>
            <p class="text-lg text-amber-600 font-semibold mb-4">ü•Ç Happy New Year 2026! ü•Ç</p>
            <p class="text-gray-600 mb-6" id="successMessage">
                Thank you! We've received your appointment request and will contact you shortly to confirm your booking.
            </p>
            <div class="bg-purple-50 rounded-lg p-4 text-left border-2 border-purple-200 mb-6" id="bookingDetails"></div>
            
            <button onclick="downloadEstimate()" 
                class="w-full bg-gradient-to-r from-amber-500 to-purple-600 text-white py-3 px-6 rounded-lg font-semibold text-lg hover:from-amber-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl mb-4">
                üìÑ Download Estimate (PDF)
            </button>
            
            <p class="text-sm text-gray-600">Cheers to a great year ahead! üéä</p>
        </div>
    </div>

    <script>
        // ============================================
        // FIREWORKS ANIMATION
        // ============================================
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        class Particle {
            constructor(x, y, color, velocity, decay) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.velocity = velocity;
                this.alpha = 1;
                this.decay = decay;
                this.gravity = 0.02;
                this.friction = 0.99;
            }

            update() {
                this.velocity.x *= this.friction;
                this.velocity.y *= this.friction;
                this.velocity.y += this.gravity;
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= this.decay;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }
        }

        class Firework {
            constructor(x, y, targetY, color) {
                this.x = x;
                this.y = y;
                this.targetY = targetY;
                this.color = color;
                this.velocity = { x: 0, y: -3 - Math.random() * 2 };
                this.alpha = 1;
                this.exploded = false;
            }

            update() {
                this.y += this.velocity.y;
                if (this.y <= this.targetY) {
                    this.exploded = true;
                }
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }

            explode() {
                const particles = [];
                const particleCount = 80 + Math.floor(Math.random() * 40);
                const colors = [this.color, '#FFD700', '#FF6B6B', '#4ECDC4', '#A855F7', '#F472B6'];
                
                for (let i = 0; i < particleCount; i++) {
                    const angle = (Math.PI * 2 / particleCount) * i;
                    const speed = 2 + Math.random() * 3;
                    const velocity = {
                        x: Math.cos(angle) * speed,
                        y: Math.sin(angle) * speed
                    };
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    particles.push(new Particle(this.x, this.y, color, velocity, 0.01 + Math.random() * 0.015));
                }
                return particles;
            }
        }

        let fireworks = [];
        let particles = [];

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = canvas.height;
            const targetY = 100 + Math.random() * (canvas.height * 0.4);
            const colors = ['#FF6B6B', '#4ECDC4', '#FFE66D', '#A855F7', '#F472B6', '#22D3EE', '#34D399'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            fireworks.push(new Firework(x, y, targetY, color));
        }

        function animate() {
            ctx.fillStyle = 'rgba(15, 23, 42, 0.15)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Update and draw fireworks
            for (let i = fireworks.length - 1; i >= 0; i--) {
                fireworks[i].update();
                fireworks[i].draw();

                if (fireworks[i].exploded) {
                    particles.push(...fireworks[i].explode());
                    fireworks.splice(i, 1);
                }
            }

            // Update and draw particles
            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].update();
                particles[i].draw();

                if (particles[i].alpha <= 0) {
                    particles.splice(i, 1);
                }
            }

            requestAnimationFrame(animate);
        }

        // Launch fireworks periodically
        setInterval(() => {
            if (Math.random() < 0.7) {
                createFirework();
            }
        }, 800);

        // Initial burst
        setTimeout(() => {
            for (let i = 0; i < 3; i++) {
                setTimeout(createFirework, i * 200);
            }
        }, 500);

        animate();

        // ============================================
        // CONFETTI
        // ============================================
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const confettiChars = ['üéä', 'üéâ', '‚ú®', '‚≠ê', 'üåü'];
            const colors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#A855F7', '#F472B6'];

            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.innerHTML = confettiChars[Math.floor(Math.random() * confettiChars.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDuration = (Math.random() * 4 + 8) + 's';
                confetti.style.animationDelay = Math.random() * 10 + 's';
                confetti.style.fontSize = (Math.random() * 12 + 10) + 'px';
                container.appendChild(confetti);
            }
        }

        createConfetti();

        // ============================================
        // FORM FUNCTIONALITY (unchanged logic)
        // ============================================
        document.getElementById('preferredDate').min = new Date().toISOString().split('T')[0];

        let estimateData = {};

        function generateEstimateNumber() {
            const now = new Date();
            return 'EST-' + now.getFullYear() + 
                   String(now.getMonth() + 1).padStart(2, '0') + 
                   String(now.getDate()).padStart(2, '0') + '-' +
                   String(now.getHours()).padStart(2, '0') + 
                   String(now.getMinutes()).padStart(2, '0') +
                   String(now.getSeconds()).padStart(2, '0');
        }

        function getTvSizeLabel(value) {
            const labels = {
                'up-to-42': 'Up to 42"',
                '43-55': '43" - 55"',
                '56-70': '56" - 70"',
                '71-85': '71" - 85"',
                '86-plus': '86"+'
            };
            return labels[value] || value;
        }

        function getMountLabel(value) {
            const labels = {
                'own': 'Customer\'s Own Mount',
                'fixed': 'Fixed Mount',
                'tilt': 'Tilting Mount',
                'full': 'Full Motion Mount'
            };
            return labels[value] || value;
        }

        function getWireLabel(value) {
            const labels = {
                'none': 'No Wire Concealment',
                'external': 'External Strip',
                'inwall': 'In-Wall Concealment',
                'outlet': 'Electrical Outlet Installation'
            };
            return labels[value] || value;
        }

        function downloadEstimate() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            const pageWidth = doc.internal.pageSize.getWidth();
            let y = 20;
            
            // Header - Purple/Gold theme for New Year
            doc.setFillColor(126, 34, 206); // Purple
            doc.rect(0, 0, pageWidth, 40, 'F');
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(24);
            doc.setFont('helvetica', 'bold');
            doc.text('TV Install Chicago', pageWidth / 2, 18, { align: 'center' });
            
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text('Professional TV Mounting Services', pageWidth / 2, 28, { align: 'center' });
            doc.text('(312) 931-7096 | tvinstallchicago@gmail.com', pageWidth / 2, 36, { align: 'center' });
            
            y = 55;
            
            // Estimate Title
            doc.setTextColor(217, 119, 6); // Amber
            doc.setFontSize(20);
            doc.setFont('helvetica', 'bold');
            doc.text('SERVICE ESTIMATE', pageWidth / 2, y, { align: 'center' });
            
            y += 15;
            
            // Estimate Info Box
            doc.setDrawColor(126, 34, 206);
            doc.setLineWidth(0.5);
            doc.rect(15, y, pageWidth - 30, 30);
            
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(10);
            doc.setFont('helvetica', 'bold');
            doc.text('Estimate #:', 20, y + 8);
            doc.text('Date:', 20, y + 16);
            doc.text('Valid Until:', 20, y + 24);
            
            doc.setFont('helvetica', 'normal');
            doc.text(estimateData.estimateNumber, 55, y + 8);
            doc.text(estimateData.createdDate, 55, y + 16);
            doc.text(estimateData.validUntil, 55, y + 24);
            
            doc.setFont('helvetica', 'bold');
            doc.text('Preferred Date:', 110, y + 8);
            doc.text('Preferred Time:', 110, y + 16);
            
            doc.setFont('helvetica', 'normal');
            doc.text(estimateData.preferredDate, 150, y + 8);
            doc.text(estimateData.preferredTime, 150, y + 16);
            
            y += 40;
            
            // Customer Info
            doc.setFillColor(240, 240, 240);
            doc.rect(15, y, pageWidth - 30, 8, 'F');
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(12);
            doc.text('CUSTOMER INFORMATION', 20, y + 6);
            
            y += 15;
            doc.setFontSize(10);
            doc.setFont('helvetica', 'bold');
            doc.text('Name:', 20, y);
            doc.setFont('helvetica', 'normal');
            doc.text(estimateData.name, 50, y);
            
            y += 7;
            doc.setFont('helvetica', 'bold');
            doc.text('Phone:', 20, y);
            doc.setFont('helvetica', 'normal');
            doc.text(estimateData.phone, 50, y);
            
            y += 7;
            doc.setFont('helvetica', 'bold');
            doc.text('Email:', 20, y);
            doc.setFont('helvetica', 'normal');
            doc.text(estimateData.email, 50, y);
            
            y += 7;
            doc.setFont('helvetica', 'bold');
            doc.text('Address:', 20, y);
            doc.setFont('helvetica', 'normal');
            const addressLines = doc.splitTextToSize(estimateData.address, 130);
            doc.text(addressLines, 50, y);
            y += (addressLines.length * 5);
            
            y += 10;
            
            // Services Table Header
            doc.setFillColor(126, 34, 206);
            doc.rect(15, y, pageWidth - 30, 10, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(10);
            doc.text('SERVICES', 20, y + 7);
            doc.text('PRICE', pageWidth - 35, y + 7, { align: 'right' });
            
            y += 15;
            doc.setTextColor(0, 0, 0);
            
            // TV Details
            for (let i = 0; i < estimateData.tvs.length; i++) {
                const tv = estimateData.tvs[i];
                
                doc.setFont('helvetica', 'bold');
                doc.setFontSize(11);
                doc.text(`TV ${i + 1}`, 20, y);
                y += 7;
                
                doc.setFont('helvetica', 'normal');
                doc.setFontSize(10);
                
                doc.text(`   TV Size: ${getTvSizeLabel(tv.size)}`, 20, y);
                doc.text(`$${tv.sizePrice}`, pageWidth - 35, y, { align: 'right' });
                y += 6;
                
                doc.text(`   Mount: ${getMountLabel(tv.mount)}`, 20, y);
                doc.text(`$${tv.mountPrice}`, pageWidth - 35, y, { align: 'right' });
                y += 6;
                
                doc.text(`   Wire Concealment: ${getWireLabel(tv.wire)}`, 20, y);
                doc.text(`$${tv.wirePrice}`, pageWidth - 35, y, { align: 'right' });
                y += 6;
                
                if (tv.soundbar === 'yes') {
                    doc.text(`   Soundbar Mounting`, 20, y);
                    doc.text(`$${tv.soundbarPrice}`, pageWidth - 35, y, { align: 'right' });
                    y += 6;
                }
                
                y += 4;
                
                if (y > 250) {
                    doc.addPage();
                    y = 20;
                }
            }
            
            // Totals Section
            y += 5;
            doc.setDrawColor(200, 200, 200);
            doc.line(15, y, pageWidth - 15, y);
            y += 10;
            
            doc.setFont('helvetica', 'normal');
            doc.text('Subtotal:', 120, y);
            doc.text(`$${estimateData.subtotal}`, pageWidth - 35, y, { align: 'right' });
            
            if (estimateData.numTvs >= 2) {
                y += 8;
                doc.setTextColor(217, 119, 6);
                doc.setFont('helvetica', 'bold');
                doc.text('Multi-TV Discount (20% off labor):', 90, y);
                doc.text(`-$${estimateData.savings}`, pageWidth - 35, y, { align: 'right' });
            }
            
            y += 12;
            doc.setFillColor(126, 34, 206);
            doc.rect(100, y - 6, pageWidth - 115, 12, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(14);
            doc.text('TOTAL:', 105, y + 2);
            doc.text(`$${estimateData.total}`, pageWidth - 35, y + 2, { align: 'right' });
            
            y += 20;
            
            // Notes
            if (estimateData.notes && estimateData.notes.trim()) {
                doc.setTextColor(0, 0, 0);
                doc.setFontSize(10);
                doc.setFont('helvetica', 'bold');
                doc.text('Additional Notes:', 20, y);
                y += 6;
                doc.setFont('helvetica', 'normal');
                const notesLines = doc.splitTextToSize(estimateData.notes, pageWidth - 40);
                doc.text(notesLines, 20, y);
                y += (notesLines.length * 5) + 10;
            }
            
            // Footer
            const footerY = 270;
            doc.setDrawColor(126, 34, 206);
            doc.line(15, footerY, pageWidth - 15, footerY);
            
            doc.setTextColor(100, 100, 100);
            doc.setFontSize(9);
            doc.setFont('helvetica', 'italic');
            doc.text('This is an estimate only. Final pricing may vary based on site conditions.', pageWidth / 2, footerY + 8, { align: 'center' });
            doc.text('All installations include level mounting and debris cleanup.', pageWidth / 2, footerY + 14, { align: 'center' });
            doc.text('Thank you for choosing TV Install Chicago! Happy New Year 2026!', pageWidth / 2, footerY + 20, { align: 'center' });
            
            doc.save(`TVInstallChicago_Estimate_${estimateData.estimateNumber}.pdf`);
        }

        function updateTvForms() {
            const numTvs = parseInt(document.getElementById('numTvs').value);
            const discountNote = document.getElementById('discountNote');
            
            if (numTvs >= 2) {
                discountNote.classList.remove('hidden');
            } else {
                discountNote.classList.add('hidden');
            }
            
            for (let i = 2; i <= 5; i++) {
                const section = document.getElementById(`tv${i}-section`);
                if (i <= numTvs) {
                    section.classList.remove('hidden');
                    section.querySelectorAll('select').forEach(sel => sel.required = true);
                } else {
                    section.classList.add('hidden');
                    section.querySelectorAll('select').forEach(sel => {
                        sel.required = false;
                        sel.value = '';
                    });
                }
            }
        }

        function calculateTotal() {
            const numTvs = parseInt(document.getElementById('numTvs').value);
            let discountableTotal = 0;
            let mountTotal = 0;
            
            for (let i = 1; i <= numTvs; i++) {
                const tvSizeSelect = document.getElementById(`tvSize${i}`);
                const mountTypeSelect = document.getElementById(`mountType${i}`);
                const wireConcealmentSelect = document.getElementById(`wireConcealment${i}`);
                const soundbarSelect = document.getElementById(`soundbar${i}`);

                const tvSizePrice = parseInt(tvSizeSelect?.selectedOptions[0]?.dataset.price || 0);
                const mountTypePrice = parseInt(mountTypeSelect?.selectedOptions[0]?.dataset.price || 0);
                const wireConcealmentPrice = parseInt(wireConcealmentSelect?.selectedOptions[0]?.dataset.price || 0);
                const soundbarPrice = parseInt(soundbarSelect?.selectedOptions[0]?.dataset.price || 0);

                discountableTotal += tvSizePrice + wireConcealmentPrice + soundbarPrice;
                mountTotal += mountTypePrice;
            }

            let subtotal = discountableTotal + mountTotal;
            
            let total = subtotal;
            let savings = 0;
            if (numTvs >= 2 && discountableTotal > 0) {
                savings = Math.round(discountableTotal * 0.20);
                total = subtotal - savings;
            }

            if (subtotal > 0) {
                document.getElementById('priceTotal').classList.remove('hidden');
                document.getElementById('totalAmount').textContent = '$' + total;
                
                if (numTvs >= 2) {
                    document.getElementById('subtotalRow').classList.remove('hidden');
                    document.getElementById('subtotalAmount').textContent = '$' + subtotal;
                    document.getElementById('savingsAmount').classList.remove('hidden');
                    document.getElementById('savingsAmount').textContent = 'üéâ You save: $' + savings + ' (20% off labor!)';
                } else {
                    document.getElementById('subtotalRow').classList.add('hidden');
                    document.getElementById('savingsAmount').classList.add('hidden');
                }
            } else {
                document.getElementById('priceTotal').classList.add('hidden');
            }

            return { subtotal, total, savings };
        }

        function submitBooking() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const address = document.getElementById('address').value;
            const numTvs = parseInt(document.getElementById('numTvs').value);
            const preferredDate = document.getElementById('preferredDate').value;
            const preferredTime = document.getElementById('preferredTime').value;
            const additionalNotes = document.getElementById('additionalNotes').value;

            if (!name || !phone || !email || !address || !preferredDate || !preferredTime) {
                alert('Please fill in all required fields marked with *');
                return;
            }

            let tvs = [];
            for (let i = 1; i <= numTvs; i++) {
                const tvSize = document.getElementById(`tvSize${i}`).value;
                const mountType = document.getElementById(`mountType${i}`).value;
                const wireConcealment = document.getElementById(`wireConcealment${i}`).value;
                const soundbar = document.getElementById(`soundbar${i}`).value;
                
                if (!tvSize || !mountType || !wireConcealment) {
                    alert(`Please fill in all fields for TV ${i}`);
                    return;
                }

                const sizePrice = parseInt(document.getElementById(`tvSize${i}`).selectedOptions[0].dataset.price);
                const mountPrice = parseInt(document.getElementById(`mountType${i}`).selectedOptions[0].dataset.price);
                const wirePrice = parseInt(document.getElementById(`wireConcealment${i}`).selectedOptions[0].dataset.price);
                const soundbarPrice = parseInt(document.getElementById(`soundbar${i}`).selectedOptions[0].dataset.price);

                tvs.push({
                    size: tvSize,
                    mount: mountType,
                    wire: wireConcealment,
                    soundbar: soundbar,
                    sizePrice: sizePrice,
                    mountPrice: mountPrice,
                    wirePrice: wirePrice,
                    soundbarPrice: soundbarPrice
                });
            }

            const { subtotal, total, savings } = calculateTotal();

            const estimateNumber = generateEstimateNumber();
            const today = new Date();
            const createdDate = today.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            const validDate = new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000);
            const validUntil = validDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });

            estimateData = {
                estimateNumber,
                createdDate,
                validUntil,
                name,
                phone,
                email,
                address,
                numTvs,
                tvs,
                preferredDate,
                preferredTime,
                notes: additionalNotes,
                subtotal,
                total,
                savings
            };

            let tvDetails = '';
            for (let i = 1; i <= numTvs; i++) {
                const tvSize = document.getElementById(`tvSize${i}`).value;
                const mountType = document.getElementById(`mountType${i}`).value;
                const wireConcealment = document.getElementById(`wireConcealment${i}`).value;
                const soundbar = document.getElementById(`soundbar${i}`).value;
                tvDetails += `TV${i}: Size=${tvSize}, Mount=${mountType}, Wire=${wireConcealment}, Soundbar=${soundbar}; `;
            }

            const formData = new FormData();
            formData.append('estimateNumber', estimateNumber);
            formData.append('name', name);
            formData.append('phone', phone);
            formData.append('email', email);
            formData.append('address', address);
            formData.append('numTvs', numTvs);
            formData.append('tvDetails', tvDetails);
            formData.append('preferredDate', preferredDate);
            formData.append('preferredTime', preferredTime);
            formData.append('additionalNotes', additionalNotes);
            formData.append('subtotal', '$' + subtotal);
            formData.append('discount', numTvs >= 2 ? '20% ($' + savings + ')' : 'None');
            formData.append('total', '$' + total);

            fetch('https://formspree.io/f/xeoyyygd', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Form submitted successfully');
                    showSuccessScreen(name, email, preferredDate, preferredTime, total, numTvs, savings, estimateNumber);
                } else {
                    console.log('Form submission error');
                    alert('There was an error submitting your booking. Please try again or call us directly.');
                }
            }).catch(error => {
                console.log('Error:', error);
                alert('There was an error submitting your booking. Please try again or call us directly.');
            });
        }

        function showSuccessScreen(name, email, preferredDate, preferredTime, total, numTvs, savings, estimateNumber) {
            document.getElementById('successMessage').innerHTML =
                `Thank you, ${name}! üéÜ We've received your appointment request and will contact you shortly to confirm your booking. Happy New Year!`;

            let savingsHtml = '';
            if (numTvs >= 2) {
                savingsHtml = `<p class="text-sm text-amber-600 font-bold">üéâ Multi-TV Discount: -$${savings}</p>`;
            }

            document.getElementById('bookingDetails').innerHTML = `
                <p class="text-sm text-gray-700 mb-2"><strong>Estimate #:</strong> ${estimateNumber}</p>
                <p class="text-sm text-gray-700 mb-2"><strong>Number of TVs:</strong> ${numTvs}</p>
                <p class="text-sm text-gray-700 mb-2"><strong>Preferred Date:</strong> ${preferredDate}</p>
                <p class="text-sm text-gray-700 mb-2"><strong>Time:</strong> ${preferredTime}</p>
                <p class="text-sm text-gray-700 mb-2"><strong>Email:</strong> ${email}</p>
                ${savingsHtml}
                <p class="text-sm text-gray-700 mt-3 pt-3 border-t-2 border-purple-200"><strong>Estimated Total:</strong> <span class="text-xl font-bold text-purple-600">$${total}</span></p>
            `;

            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('successScreen').classList.remove('hidden');
        }
    </script>
</body>

</html>
